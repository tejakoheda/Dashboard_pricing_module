<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Keycloak Popup Callback</title>
  </head>
  <body>
    <script>
      try {
        if (window.opener && !window.opener.closed) {
          window.opener.postMessage(
            { type: "kc_popup_auth", url: location.href },
            window.location.origin
          );
        }
      } catch (e) {
        // ignore
      }
      window.close();

      setTimeout(() => {
        document.body.innerHTML =
          "<p>Authentication complete. You can close this window.</p>";
      }, 500);
    </script>
  </body>
</html>
